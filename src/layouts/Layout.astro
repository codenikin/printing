---
import Header from "../components/Header/Header.astro";
import "../styles/global.css";
import "../styles/main.css";
import "aos/dist/aos.css";
// import "../styles/font-awesome.css"
import Footer from "../components/Footer/Footer.astro";
import "@fortawesome/fontawesome-free/css/all.min.css";
import Whatsapp from "../components/Whatsapp";
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    ></script>
    <!-- <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    /> -->
    <title>Astro Basics</title>
  </head>
  <body>
    <div id="preloader" class="preloader">
      <div class="animation-preloader">
        <div class="spinner"></div>
        <div class="txt-loading">
          <span data-text-preloader="O" class="letters-loading"> O </span>
          <span data-text-preloader="M" class="letters-loading"> M </span>
          <span data-text-preloader="M" class="letters-loading"> M </span>
          <span data-text-preloader="U" class="letters-loading"> U </span>
          <span data-text-preloader="R" class="letters-loading"> R </span>
          <span data-text-preloader="U" class="letters-loading"> U </span>
          <span data-text-preloader="G" class="letters-loading"> G </span>
          <span data-text-preloader="A" class="letters-loading"> A </span>
        </div>
        <p class="text-center">Loading</p>
      </div>
      <div class="loader">
        <div class="row">
          <div class="col-3 loader-section section-left">
            <div class="bg"></div>
          </div>
          <div class="col-3 loader-section section-left">
            <div class="bg"></div>
          </div>
          <div class="col-3 loader-section section-right">
            <div class="bg"></div>
          </div>
          <div class="col-3 loader-section section-right">
            <div class="bg"></div>
          </div>
        </div>
      </div>
    </div>
    <script>
      import AOS from "aos";
      AOS.init();
    </script>
    <Header />
    <slot />

    <Footer />
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const mobileMenu = document.querySelector("#mobile-menu");
        const menuToggle = document.querySelector(".mobile-menu-toggle");
        if (menuToggle && mobileMenu) {
          menuToggle.addEventListener("click", () => {
            mobileMenu.classList.toggle("open");
          });
        }
        const closeButtons = document.querySelectorAll(
          ".offcanvas__close, .offcanvas__overlay"
        );
        const sidebarToggleButtons =
          document.querySelectorAll(".sidebar__toggle");
        const offcanvasInfo = document.querySelector(".offcanvas__info");
        const offcanvasOverlay = document.querySelector(".offcanvas__overlay");
        closeButtons.forEach((btn) => {
          btn.addEventListener("click", () => {
            offcanvasInfo?.classList.remove("info-open");
            offcanvasOverlay?.classList.remove("overlay-open");
          });
        });
        sidebarToggleButtons.forEach((btn) => {
          btn.addEventListener("click", () => {
            offcanvasInfo?.classList.add("info-open");
            offcanvasOverlay?.classList.add("overlay-open");
          });
        });

        const bodyOverlay = document.querySelector(".body-overlay");
        const offcanvasArea = document.querySelector(".offcanvas__area");
        const dfSearchArea = document.querySelector(".df-search-area");

        bodyOverlay?.addEventListener("click", () => {
          offcanvasArea?.classList.remove("offcanvas-opened");
          dfSearchArea?.classList.remove("opened");
          bodyOverlay?.classList.remove("opened");
        });
        const shareButtons = document.querySelectorAll(".share-btn");
        shareButtons.forEach((btn) => {
          btn.addEventListener("click", () => {
            const target = btn.getAttribute("data-target");
            if (target) {
              const targetElement = document.getElementById(target);
              if (targetElement) {
                targetElement.classList.toggle("visible");
              }
            }
          });
        });
        const openButtons = document.querySelectorAll(
          "#openButton, #openButton2"
        );
        const closeButton = document.querySelector("#closeButton");
        const targetElement = document.querySelector("#targetElement");

        openButtons.forEach((btn) => {
          btn.addEventListener("click", (e) => {
            e.preventDefault();
            targetElement?.classList.remove("side_bar_hidden");
          });
        });

        closeButton?.addEventListener("click", (e) => {
          e.preventDefault();
          targetElement?.classList.add("side_bar_hidden");
        });
      });

      window.addEventListener("scroll", () => {
        const header = document.getElementById("header-sticky");
        if (!header) return;
        if (window.scrollY > 250) {
          header.classList.add("sticky");
        } else {
          header.classList.remove("sticky");
        }
      });
      // Add this script tag just before the closing </body> tag

      // Preloader functionality
      window.addEventListener("load", () => {
        const preloader = document.getElementById("preloader");

        if (preloader) {
          // Add loaded class to show animation
          preloader.classList.add("loaded");

          // Remove preloader after animation completes
          setTimeout(() => {
            preloader.style.display = "none";
          }, 1000);
        }
      });

      // Optional: Add animation for the letters
      document.addEventListener("DOMContentLoaded", () => {
        const letters = document.querySelectorAll(".letters-loading");

        letters.forEach((letter, index) => {
          setTimeout(() => {
            letter.classList.add("active");
          }, index * 200);
        });
      });
    </script>
    <Whatsapp client:load />
  </body>
</html>
<style is:global>
  html,
  body {
    margin: 0;
    width: 100%;
    height: 100%;
  }

  .header__hamburger {
    display: none;
    padding: 10px;
    margin-left: 15px;
    z-index: 1000;
  }

  .sidebar__toggle i {
    font-size: 24px;
    display: block !important;
  }

  .header__hamburger .sidebar__toggle {
    cursor: pointer;
    pointer-events: all;
  }

  @media (max-width: 1200px) {
    .header__hamburger {
      display: block !important;
    }

    .mean__menu-wrapper {
      display: none;
    }

    .header-right {
      margin-left: auto;
      display: flex !important;
      align-items: center;
    }
  }
</style>
